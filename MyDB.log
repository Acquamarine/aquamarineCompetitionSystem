/*C8*/SET SCHEMA PUBLIC
alter table TwoCompetitorsMatchResult drop constraint FK_4igxv1np3qasjqlg444r9ee4p
alter table TwoCompetitorsMatchResult drop constraint FK_nhuybt4wwv60c4pyl7daghca2
alter table UserElo drop constraint FK_4mkm0wrjj0m2symih1dsm29th
alter table team_users drop constraint FK_nrfse728vcqybhtifs0hm2gvm
alter table team_users drop constraint FK_1d078m0pc77g2q6b8str91ym9
drop table Competitor if exists
drop table TwoCompetitorsMatchResult if exists
drop table UserElo if exists
drop table team_users if exists
create table Competitor (type varchar(31) not null, id integer generated by default as identity (start with 1), nickname varchar(255) not null, password varchar(255), username varchar(255), primary key (id))
create table TwoCompetitorsMatchResult (id integer generated by default as identity (start with 1), matchEndTime timestamp, player1Score integer, player2Score integer, rankedMatch boolean, player1 integer, player2 integer, primary key (id))
create table UserElo (userId integer not null, competitionProfile integer, competitionProfile_KEY varchar(255), primary key (userId, competitionProfile_KEY))
create table team_users (member_id integer not null, team_id integer not null, primary key (member_id, team_id))
alter table Competitor add constraint UK_ki35gn3lron1tp95lgl4giwyd  unique (nickname)
alter table TwoCompetitorsMatchResult add constraint FK_4igxv1np3qasjqlg444r9ee4p foreign key (player1) references Competitor
alter table TwoCompetitorsMatchResult add constraint FK_nhuybt4wwv60c4pyl7daghca2 foreign key (player2) references Competitor
alter table UserElo add constraint FK_4mkm0wrjj0m2symih1dsm29th foreign key (userId) references Competitor
INSERT INTO COMPETITOR VALUES('registeredUser',1,'pasticcio','','ciccio')
COMMIT
/*C9*/SET SCHEMA PUBLIC
alter table TwoCompetitorsMatchResult drop constraint FK_4igxv1np3qasjqlg444r9ee4p
alter table TwoCompetitorsMatchResult drop constraint FK_nhuybt4wwv60c4pyl7daghca2
alter table UserElo drop constraint FK_4mkm0wrjj0m2symih1dsm29th
drop table Competitor if exists
drop table TwoCompetitorsMatchResult if exists
drop table UserElo if exists
create table Competitor (type varchar(31) not null, id integer generated by default as identity (start with 1), nickname varchar(255) not null, password varchar(255), username varchar(255), primary key (id))
create table TwoCompetitorsMatchResult (id integer generated by default as identity (start with 1), matchEndTime timestamp, player1Score integer, player2Score integer, rankedMatch boolean, player1 integer, player2 integer, primary key (id))
create table UserElo (userId integer not null, competitionProfile integer, competitionProfile_KEY varchar(255), primary key (userId, competitionProfile_KEY))
alter table Competitor add constraint UK_ki35gn3lron1tp95lgl4giwyd  unique (nickname)
alter table TwoCompetitorsMatchResult add constraint FK_4igxv1np3qasjqlg444r9ee4p foreign key (player1) references Competitor
alter table TwoCompetitorsMatchResult add constraint FK_nhuybt4wwv60c4pyl7daghca2 foreign key (player2) references Competitor
alter table UserElo add constraint FK_4mkm0wrjj0m2symih1dsm29th foreign key (userId) references Competitor
INSERT INTO COMPETITOR VALUES('registeredUser',1,'ciccio','','')
COMMIT
DELETE FROM COMPETITOR WHERE ID=1
INSERT INTO COMPETITOR VALUES('registeredUser',1,'ciccio','','')
INSERT INTO USERELO VALUES(1,1500,'tressette1v1')
COMMIT
/*C10*/SET SCHEMA PUBLIC
alter table TwoCompetitorsMatchResult drop constraint FK_4igxv1np3qasjqlg444r9ee4p
alter table TwoCompetitorsMatchResult drop constraint FK_nhuybt4wwv60c4pyl7daghca2
alter table UserElo drop constraint FK_4mkm0wrjj0m2symih1dsm29th
drop table Competitor if exists
drop table TwoCompetitorsMatchResult if exists
drop table UserElo if exists
create table Competitor (type varchar(31) not null, id integer generated by default as identity (start with 1), nickname varchar(255) not null, password varchar(255), username varchar(255), primary key (id))
create table TwoCompetitorsMatchResult (id integer generated by default as identity (start with 1), matchEndTime timestamp, player1Score integer, player2Score integer, rankedMatch boolean, player1 integer, player2 integer, primary key (id))
create table UserElo (userId integer not null, competitionProfile integer, competitionProfile_KEY varchar(255), primary key (userId, competitionProfile_KEY))
alter table Competitor add constraint UK_ki35gn3lron1tp95lgl4giwyd  unique (nickname)
alter table TwoCompetitorsMatchResult add constraint FK_4igxv1np3qasjqlg444r9ee4p foreign key (player1) references Competitor
alter table TwoCompetitorsMatchResult add constraint FK_nhuybt4wwv60c4pyl7daghca2 foreign key (player2) references Competitor
alter table UserElo add constraint FK_4mkm0wrjj0m2symih1dsm29th foreign key (userId) references Competitor
INSERT INTO COMPETITOR VALUES('registeredUser',1,'pasticcio','','ciccio')
COMMIT
/*C11*/SET SCHEMA PUBLIC
alter table TwoCompetitorsMatchResult drop constraint FK_4igxv1np3qasjqlg444r9ee4p
alter table TwoCompetitorsMatchResult drop constraint FK_nhuybt4wwv60c4pyl7daghca2
alter table UserElo drop constraint FK_4mkm0wrjj0m2symih1dsm29th
drop table Competitor if exists
drop table TwoCompetitorsMatchResult if exists
drop table UserElo if exists
create table Competitor (type varchar(31) not null, id integer generated by default as identity (start with 1), nickname varchar(255) not null, password varchar(255), username varchar(255), primary key (id))
create table TwoCompetitorsMatchResult (id integer generated by default as identity (start with 1), matchEndTime timestamp, player1Score integer, player2Score integer, rankedMatch boolean, player1 integer, player2 integer, primary key (id))
create table UserElo (userId integer not null, competitionProfile integer, competitionProfile_KEY varchar(255), primary key (userId, competitionProfile_KEY))
alter table Competitor add constraint UK_ki35gn3lron1tp95lgl4giwyd  unique (nickname)
alter table TwoCompetitorsMatchResult add constraint FK_4igxv1np3qasjqlg444r9ee4p foreign key (player1) references Competitor
alter table TwoCompetitorsMatchResult add constraint FK_nhuybt4wwv60c4pyl7daghca2 foreign key (player2) references Competitor
alter table UserElo add constraint FK_4mkm0wrjj0m2symih1dsm29th foreign key (userId) references Competitor
INSERT INTO COMPETITOR VALUES('registeredUser',1,'pasticcio','','ciccio')
COMMIT
/*C12*/SET SCHEMA PUBLIC
alter table TwoCompetitorsMatchResult drop constraint FK_4igxv1np3qasjqlg444r9ee4p
alter table TwoCompetitorsMatchResult drop constraint FK_nhuybt4wwv60c4pyl7daghca2
alter table UserElo drop constraint FK_4mkm0wrjj0m2symih1dsm29th
alter table team_users drop constraint FK_nrfse728vcqybhtifs0hm2gvm
alter table team_users drop constraint FK_1d078m0pc77g2q6b8str91ym9
drop table Competitor if exists
drop table TwoCompetitorsMatchResult if exists
drop table UserElo if exists
drop table team_users if exists
create table Competitor (type varchar(31) not null, id integer generated by default as identity (start with 1), nickname varchar(255) not null, password varchar(255), username varchar(255), primary key (id))
create table TwoCompetitorsMatchResult (id integer generated by default as identity (start with 1), matchEndTime timestamp, player1Score integer, player2Score integer, rankedMatch boolean, player1 integer, player2 integer, primary key (id))
create table UserElo (userId integer not null, competitionProfile integer, competitionProfile_KEY varchar(255), primary key (userId, competitionProfile_KEY))
create table team_users (member_id integer not null, team_id integer not null, primary key (member_id, team_id))
alter table Competitor add constraint UK_ki35gn3lron1tp95lgl4giwyd  unique (nickname)
alter table TwoCompetitorsMatchResult add constraint FK_4igxv1np3qasjqlg444r9ee4p foreign key (player1) references Competitor
alter table TwoCompetitorsMatchResult add constraint FK_nhuybt4wwv60c4pyl7daghca2 foreign key (player2) references Competitor
alter table UserElo add constraint FK_4mkm0wrjj0m2symih1dsm29th foreign key (userId) references Competitor
INSERT INTO COMPETITOR VALUES('registeredUser',1,'pasticcio','','ciccio')
COMMIT
/*C13*/SET SCHEMA PUBLIC
alter table TwoCompetitorsMatchResult drop constraint FK_4igxv1np3qasjqlg444r9ee4p
alter table TwoCompetitorsMatchResult drop constraint FK_nhuybt4wwv60c4pyl7daghca2
alter table UserElo drop constraint FK_4mkm0wrjj0m2symih1dsm29th
alter table team_users drop constraint FK_nrfse728vcqybhtifs0hm2gvm
alter table team_users drop constraint FK_1d078m0pc77g2q6b8str91ym9
drop table Competitor if exists
drop table TwoCompetitorsMatchResult if exists
drop table UserElo if exists
drop table team_users if exists
create table Competitor (type varchar(31) not null, id integer generated by default as identity (start with 1), nickname varchar(255) not null, password varchar(255), username varchar(255), primary key (id))
create table TwoCompetitorsMatchResult (id integer generated by default as identity (start with 1), matchEndTime timestamp, player1Score integer, player2Score integer, rankedMatch boolean, player1 integer, player2 integer, primary key (id))
create table UserElo (userId integer not null, competitionProfile integer, competitionProfile_KEY varchar(255), primary key (userId, competitionProfile_KEY))
create table team_users (member_id integer not null, team_id integer not null, primary key (member_id, team_id))
alter table Competitor add constraint UK_ki35gn3lron1tp95lgl4giwyd  unique (nickname)
alter table TwoCompetitorsMatchResult add constraint FK_4igxv1np3qasjqlg444r9ee4p foreign key (player1) references Competitor
alter table TwoCompetitorsMatchResult add constraint FK_nhuybt4wwv60c4pyl7daghca2 foreign key (player2) references Competitor
alter table UserElo add constraint FK_4mkm0wrjj0m2symih1dsm29th foreign key (userId) references Competitor
INSERT INTO COMPETITOR VALUES('registeredUser',1,'ciccioN','ciccioP','ciccioU')
COMMIT
