/*C10*/SET SCHEMA PUBLIC
alter table UserElo drop constraint FK_4mkm0wrjj0m2symih1dsm29th
drop table Competitor if exists
drop table UserElo if exists
create table Competitor (type varchar(31) not null, id integer generated by default as identity (start with 1), nickname varchar(255) not null, password varchar(255), username varchar(255), primary key (id))
create table UserElo (userId integer not null, competitionProfile integer, competitionProfile_KEY varchar(255), primary key (userId, competitionProfile_KEY))
alter table Competitor add constraint UK_ki35gn3lron1tp95lgl4giwyd  unique (nickname)
alter table UserElo add constraint FK_4mkm0wrjj0m2symih1dsm29th foreign key (userId) references Competitor
INSERT INTO COMPETITOR VALUES('registeredUser',1,'ciccioN','ciccioP','ciccioU')
COMMIT
/*C11*/SET SCHEMA PUBLIC
alter table UserElo drop constraint FK_4mkm0wrjj0m2symih1dsm29th
drop table Competitor if exists
drop table UserElo if exists
create table Competitor (type varchar(31) not null, id integer generated by default as identity (start with 1), nickname varchar(255) not null, password varchar(255), username varchar(255), primary key (id))
create table UserElo (userId integer not null, competitionProfile integer, competitionProfile_KEY varchar(255), primary key (userId, competitionProfile_KEY))
alter table Competitor add constraint UK_ki35gn3lron1tp95lgl4giwyd  unique (nickname)
alter table UserElo add constraint FK_4mkm0wrjj0m2symih1dsm29th foreign key (userId) references Competitor
INSERT INTO COMPETITOR VALUES('registeredUser',1,'ciccioEloTestN','ciccioEloTestP','ciccioEloTestU')
INSERT INTO USERELO VALUES(1,1500,'tressette1v1')
COMMIT
/*C12*/SET SCHEMA PUBLIC
alter table UserElo drop constraint FK_4mkm0wrjj0m2symih1dsm29th
drop table Competitor if exists
drop table UserElo if exists
create table Competitor (type varchar(31) not null, id integer generated by default as identity (start with 1), nickname varchar(255) not null, password varchar(255), username varchar(255), primary key (id))
create table UserElo (userId integer not null, competitionProfile integer, competitionProfile_KEY varchar(255), primary key (userId, competitionProfile_KEY))
alter table Competitor add constraint UK_ki35gn3lron1tp95lgl4giwyd  unique (nickname)
alter table UserElo add constraint FK_4mkm0wrjj0m2symih1dsm29th foreign key (userId) references Competitor
INSERT INTO COMPETITOR VALUES('registeredUser',1,'pasticcioRankingTestN','pasticcioRankingTestP','pasticcioRankingTestU')
INSERT INTO USERELO VALUES(1,1500,'tressette1v1')
COMMIT
INSERT INTO COMPETITOR VALUES('registeredUser',2,'cioRankingTestN','','')
INSERT INTO USERELO VALUES(2,1100,'tressette1v1')
COMMIT
/*C13*/SET SCHEMA PUBLIC
alter table UserElo drop constraint FK_4mkm0wrjj0m2symih1dsm29th
drop table Competitor if exists
drop table UserElo if exists
create table Competitor (type varchar(31) not null, id integer generated by default as identity (start with 1), nickname varchar(255) not null, password varchar(255), username varchar(255), primary key (id))
create table UserElo (userId integer not null, competitionProfile integer, competitionProfile_KEY varchar(255), primary key (userId, competitionProfile_KEY))
alter table Competitor add constraint UK_ki35gn3lron1tp95lgl4giwyd  unique (nickname)
alter table UserElo add constraint FK_4mkm0wrjj0m2symih1dsm29th foreign key (userId) references Competitor
INSERT INTO COMPETITOR VALUES('registeredUser',1,'pasticcio','','ciccio')
COMMIT
/*C14*/SET SCHEMA PUBLIC
alter table UserElo drop constraint FK_4mkm0wrjj0m2symih1dsm29th
drop table Competitor if exists
drop table UserElo if exists
create table Competitor (type varchar(31) not null, id integer generated by default as identity (start with 1), nickname varchar(255) not null, password varchar(255), username varchar(255), primary key (id))
create table UserElo (userId integer not null, competitionProfile integer, competitionProfile_KEY varchar(255), primary key (userId, competitionProfile_KEY))
alter table Competitor add constraint UK_ki35gn3lron1tp95lgl4giwyd  unique (nickname)
alter table UserElo add constraint FK_4mkm0wrjj0m2symih1dsm29th foreign key (userId) references Competitor
INSERT INTO COMPETITOR VALUES('registeredUser',1,'ciccio','','')
COMMIT
DELETE FROM COMPETITOR WHERE ID=1
INSERT INTO COMPETITOR VALUES('registeredUser',1,'ciccio','','')
INSERT INTO USERELO VALUES(1,1500,'tressette1v1')
COMMIT
DELETE FROM COMPETITOR WHERE ID=1
INSERT INTO COMPETITOR VALUES('registeredUser',1,'ciccio','','')
DELETE FROM USERELO WHERE USERID=1 AND COMPETITIONPROFILE_KEY='tressette1v1'
INSERT INTO USERELO VALUES(1,2000,'tressette1v1')
COMMIT
/*C15*/SET SCHEMA PUBLIC
alter table UserElo drop constraint FK_4mkm0wrjj0m2symih1dsm29th
drop table Competitor if exists
drop table UserElo if exists
create table Competitor (type varchar(31) not null, id integer generated by default as identity (start with 1), nickname varchar(255) not null, password varchar(255), username varchar(255), primary key (id))
create table UserElo (userId integer not null, competitionProfile integer, competitionProfile_KEY varchar(255), primary key (userId, competitionProfile_KEY))
alter table Competitor add constraint UK_ki35gn3lron1tp95lgl4giwyd  unique (nickname)
alter table UserElo add constraint FK_4mkm0wrjj0m2symih1dsm29th foreign key (userId) references Competitor
INSERT INTO COMPETITOR VALUES('registeredUser',1,'pasticcio','','ciccio')
COMMIT
/*C16*/SET SCHEMA PUBLIC
alter table UserElo drop constraint FK_4mkm0wrjj0m2symih1dsm29th
drop table Competitor if exists
drop table UserElo if exists
create table Competitor (type varchar(31) not null, id integer generated by default as identity (start with 1), nickname varchar(255) not null, password varchar(255), username varchar(255), primary key (id))
create table UserElo (userId integer not null, competitionProfile integer, competitionProfile_KEY varchar(255), primary key (userId, competitionProfile_KEY))
alter table Competitor add constraint UK_ki35gn3lron1tp95lgl4giwyd  unique (nickname)
alter table UserElo add constraint FK_4mkm0wrjj0m2symih1dsm29th foreign key (userId) references Competitor
INSERT INTO COMPETITOR VALUES('registeredUser',1,'pasticcio','','ciccio')
COMMIT
